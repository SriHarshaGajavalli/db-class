<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0065)http://www.db-class.org/course/quiz/feedback?submission_id=193844 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Introduction to Databases</title>

<link rel="stylesheet" href="http://www.db-class.org/course/assets/berry/css/main.css">
<link rel="stylesheet" href="http://www.db-class.org/course/assets/berry/css/course-cs145.css">
<script type="text/javascript" async="" src="./SQL Movie-Rating Modification Exercises_files/ga.js"></script><script type="text/javascript" src="./SQL Movie-Rating Modification Exercises_files/jquery.js"></script>
<script type="text/javascript" src="./SQL Movie-Rating Modification Exercises_files/MathJax.js"></script>

<link rel="stylesheet" href="http://www.db-class.org/course/assets/berry/css/quiz.css">


<style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-family: serif; font-size: 85%; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -1px -1px 1px -1px; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
</style><style type="text/css">#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><script id="__isTpiViewExists"></script></head>

    <body><div id="MathJax_Message" style="display: none; "></div>

		<div id="container">

			<div id="header" onclick="window.location=&#39;http://www.db-class.org/course/class/index&#39;">
				<div id="header_links">
                	<a href="http://www.db-class.org/course/auth/reportbug?info=e4ff14d031797e32658de118340b2c63bdbbdcfa%7CnY7EE55AOgjVckmefPRleb0t9CH%2FEdwDpyDvPmT4x1%2Bf678lg7a1nquWP8%2Fwm5H01aMeQjI%2BdFWya9byJ%2Fz%2Fc%2FwOWXh5YkUnZAFZu%2FxaxGdP%2FaYeiGSlybHTShKX4T2teLkVP5zcMpvcbFDYBFa7IAcQep3bNiBsjSKdC%2Fr6cikvWg3C6unORZYSiLNz%2FPs5BFgNypmjOoNfljZ67gGm9Us2ChEM53RxMTAznN8Recny6skYbgzSXcDv8sm2%2Bouod6WCkMoipFipAk3TznDCmpJNg6VZaH8vXszkutdamFUZEBlyrh1v%2Fv1E3fRa0NcY6PHkFtaCd2lqK1IeBWj%2F5FyliU1%2F0vYOFEV4o7kcLQ0czdBVbHNrGD7fVW%2BUwltujuP%2FZ%2BKAWiLzSW8thNp70KFc2rv3c%2Fm%2BSHMeCas5w2gFdNX2CeVE1sm%2BvLonC1Sw">Feedback</a>&nbsp;&nbsp;&nbsp;					<a href="http://www.db-class.org/course/class/preferences">Preferences</a>		            &nbsp;&nbsp;&nbsp;
		            <a href="http://www.db-class.org/course/auth/logout">Logout</a>				</div>
			</div>

			<div id="content_body">

				<div id="navbar">
					<p class="navbar_item navbar_person">Azamat Galimzhanov</p>
                    <p class="navbar_item navbar_home"><a href="http://www.db-class.org/course/class/index">Home</a></p>
                    <p class="navbar_item navbar_progress"><a href="http://www.db-class.org/course/class/progress">Course Progress</a></p>					<p class="navbar_item navbar_video"><a href="http://www.db-class.org/course/video/list">Video Lectures</a></p>
                    <p class="navbar_item navbar_quizzes"><a href="http://www.db-class.org/course/quiz/list?type=quiz">Assignments</a></p><p class="navbar_item navbar_midterms"><a href="http://www.db-class.org/course/quiz/list?type=midterm">Exams</a></p>
					<p class="navbar_item navbar_qna" style="padding-bottom:20px"><a href="http://www.db-class.org/course/qna/index">Q&amp;A Forum</a></p>
                    <p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index">Course Materials</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=schedule">Course Schedule</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=sample">Software Quick Guides</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=weeklyvids">Weekly Videos</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=faq">FAQ</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=optional-exercises">Optional Exercises</a></p>					<p class="navbar_item navbar_aboutus"><a href="http://www.db-class.org/course/aboutus/index">About Us</a></p>
				</div>

				<div id="content">

                    
<h1>SQL Movie-Rating Modification Exercises - Feedback</h1><p>You achieved a score of <b>3.00</b> out of <b>3.00</b>.<br> Your answers, as well as our explanations, are shown below.</p><hr><span><div class="quiz_preamble">
                  
You've started a new movie-rating website, and you've been collecting data on reviewers' ratings of various movies. There's not much data yet, but you can still try out some data modifications. Here's the schema:

<br><br> 
Movie ( mID, title, year, director )<br> 
English: There is a movie with ID number <span style="font-style: italic;">mID</span>, a <span style="font-style: italic;">title</span>, a release <span style="font-style: italic;">year</span>, and a <span style="font-style: italic;">director</span>.<br><br> 
Reviewer ( rID, name )<br> 
English: The reviewer with ID number <span style="font-style: italic;">rID</span> 
has a certain <span style="font-style: italic;">name</span>.<br><br> 
Rating ( rID, mID, stars, ratingDate )<br> 
English: The reviewer <span style="font-style: italic;">rID</span> 
gave the movie <span style="font-style: italic;">mID</span> a number
of <span style="font-style: italic;">stars</span> rating (1-5) on a
certain <span style="font-style: italic;">ratingDate</span>.

<br><br>
Your modifications will run over a small data set conforming to the schema.
<a href="http://www.db-class.org/course/resources/index?page=moviedata" target="_blank">View the database</a>.
(You can also <a href="http://s3.amazonaws.com/dbclass-resources/docs/rating.sql">download the schema and data</a>.)

<br><br><b>Instructions:</b> 
You are to write each of the following data modification commands using SQL. Each question contains a link to a Command Workbench. The workbench will help you develop and debug your SQL modification commands. The workbench runs each modification using SQLite on the original state of the sample database. It then performs a query over the modified database to check whether your command made the correct modification, and restores the database to its original state. Once you're satisfied with your solution, click the "Keep This Solution" button in the Command Workbench -- your command will be copied automatically to the box on this page for final submission.

<br><br>
You may perform these exercises as many times as you like, so we strongly encourage you to keep working with them until you complete the exercises with full credit. The exercises may continue to be worked after the deadline, but we will not use your scores.

<br><br><b>NOTE: REMEMBER TO CLICK "Save and Submit" WHEN YOU ARE DONE!</b>
<br>
Please be patient as it does take time to check all of the exercises.
<br><br>
</div>
<div class="quiz_question_group">
<div class="quiz_question_group_preamble">
            </div>
<div class="quiz_question_group_questions">
<div class="quiz_question">
<div class="quiz_question_number">Question 1</div>
<div class="quiz_question_message"></div>
<div class="quiz_question_text">
                  
Add the reviewer Roger Ebert to your database, with an rID of 209.<br><a class="immediate_feedback_engine_link" href="http://www.db-class.org/course/quiz/immediate_feedback_engine?quiz_id=60&question_id=1">Command Workbench</a>
</div>
<div class="quiz_options"><div class="quiz_option"><textarea class="quiz_option_selector" name="answer[1]" id="answer[1]" rows="1" disabled="">INSERT into reviewer VALUES (209, "Roger Ebert")</textarea></div></div>
<div class="quiz_question_immediate_feedback_engine"></div>
<div class="quiz_feedback"><table class="quiz_feedback_table">
<tbody><tr>
<th width="45%">Your answer</th>
<th width="10%">Score</th>
<th width="45%">Choice explanation</th>
</tr>
<tr>
<td>INSERT into reviewer VALUES (209, "Roger Ebert")</td>
<td>1.00</td>
<td> <br><font style="color:green; font-weight:bold;">Correct</font><br><br>To check your data modification statement, we ran the following query after your modification: <i>select * from Reviewer</i><br><br>Your Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>201</td>
<td>Sarah Martinez</td>
</tr>
<tr>
<td>202</td>
<td>Daniel Lewis</td>
</tr>
<tr>
<td>203</td>
<td>Brittany Harris</td>
</tr>
<tr>
<td>204</td>
<td>Mike Anderson</td>
</tr>
<tr>
<td>205</td>
<td>Chris Jackson</td>
</tr>
<tr>
<td>206</td>
<td>Elizabeth Thomas</td>
</tr>
<tr>
<td>207</td>
<td>James Cameron</td>
</tr>
<tr>
<td>208</td>
<td>Ashley White</td>
</tr>
<tr>
<td>209</td>
<td>Roger Ebert</td>
</tr>
</tbody></table>
<br>Expected Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>201</td>
<td>Sarah Martinez</td>
</tr>
<tr>
<td>202</td>
<td>Daniel Lewis</td>
</tr>
<tr>
<td>203</td>
<td>Brittany Harris</td>
</tr>
<tr>
<td>204</td>
<td>Mike Anderson</td>
</tr>
<tr>
<td>205</td>
<td>Chris Jackson</td>
</tr>
<tr>
<td>206</td>
<td>Elizabeth Thomas</td>
</tr>
<tr>
<td>207</td>
<td>James Cameron</td>
</tr>
<tr>
<td>208</td>
<td>Ashley White</td>
</tr>
<tr>
<td>209</td>
<td>Roger Ebert</td>
</tr>
</tbody></table>
</td>
</tr>
<tr>
<th>Total</th>
<td colspan="2">1.00 / 1.00</td>
</tr>
</tbody></table></div>
<div class="quiz_explanation">
<b>Note</b><br>
Even if your solution is marked as correct, it is possible that your data modification command does not correctly reflect the problem at hand. All we check is that the verification query gets the right answer on the small sample database. Circumventing the system will get you a high score on the exercises, but it won't help you learn SQL.
On the other hand, an incorrect attempt at a general solution is unlikely to produce the right answer, so you shouldn't be led astray by our checking system.
                </div>
</div>
<div class="quiz_question">
<div class="quiz_question_number">Question 2</div>
<div class="quiz_question_message"></div>
<div class="quiz_question_text">
                  
                    Insert 5-star ratings by James Cameron for all movies in the database. Leave the review date as NULL.<br><a class="immediate_feedback_engine_link" href="http://www.db-class.org/course/quiz/immediate_feedback_engine?quiz_id=60&question_id=2">Command Workbench</a>
</div>
<div class="quiz_options"><div class="quiz_option"><textarea class="quiz_option_selector" name="answer[2]" id="answer[2]" rows="1" disabled="">INSERT INTO rating 
SELECT rid, mid, 5, null 
FROM movie, (SELECT rid FROM reviewer WHERE name="James Cameron")</textarea></div></div>
<div class="quiz_question_immediate_feedback_engine"></div>
<div class="quiz_feedback"><table class="quiz_feedback_table">
<tbody><tr>
<th width="45%">Your answer</th>
<th width="10%">Score</th>
<th width="45%">Choice explanation</th>
</tr>
<tr>
<td>INSERT INTO rating 
SELECT rid, mid, 5, null 
FROM movie, (SELECT rid FROM reviewer WHERE name="James Cameron")</td>
<td>1.00</td>
<td> <br><font style="color:green; font-weight:bold;">Correct</font><br><br>To check your data modification statement, we ran the following query after your modification: <i>select * from Rating where stars = 5</i><br><br>Your Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>206</td>
<td>106</td>
<td>5</td>
<td>2011-01-19</td>
</tr>
<tr>
<td>207</td>
<td>101</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>102</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>103</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>104</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>105</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>106</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>107</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>107</td>
<td>5</td>
<td>2011-01-20</td>
</tr>
<tr>
<td>207</td>
<td>108</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
</tbody></table>
<br>Expected Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>206</td>
<td>106</td>
<td>5</td>
<td>2011-01-19</td>
</tr>
<tr>
<td>207</td>
<td>101</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>102</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>103</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>104</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>105</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>106</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>107</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>207</td>
<td>107</td>
<td>5</td>
<td>2011-01-20</td>
</tr>
<tr>
<td>207</td>
<td>108</td>
<td>5</td>
<td>&lt;NULL&gt;</td>
</tr>
</tbody></table>
</td>
</tr>
<tr>
<th>Total</th>
<td colspan="2">1.00 / 1.00</td>
</tr>
</tbody></table></div>
<div class="quiz_explanation">
<b>Note</b><br>
Even if your solution is marked as correct, it is possible that your data modification command does not correctly reflect the problem at hand. All we check is that the verification query gets the right answer on the small sample database. Circumventing the system will get you a high score on the exercises, but it won't help you learn SQL.
On the other hand, an incorrect attempt at a general solution is unlikely to produce the right answer, so you shouldn't be led astray by our checking system.
                </div>
</div>
<div class="quiz_question">
<div class="quiz_question_number">Question 3</div>
<div class="quiz_question_message"></div>
<div class="quiz_question_text">
                  
For all movies that have an average rating of 4 stars or higher, add 25 to the release year. (Update the existing tuples; don't insert new tuples.)<br><a class="immediate_feedback_engine_link" href="http://www.db-class.org/course/quiz/immediate_feedback_engine?quiz_id=60&question_id=3">Command Workbench</a>
</div>
<div class="quiz_options"><div class="quiz_option"><textarea class="quiz_option_selector" name="answer[3]" id="answer[3]" rows="1" disabled="">UPDATE movie SET year=year+25
WHERE mid in (SELECT mid FROM (SELECT mid, avg(stars) as average FROM rating GROUP BY mid) WHERE average&gt;=4)</textarea></div></div>
<div class="quiz_question_immediate_feedback_engine"></div>
<div class="quiz_feedback"><table class="quiz_feedback_table">
<tbody><tr>
<th width="45%">Your answer</th>
<th width="10%">Score</th>
<th width="45%">Choice explanation</th>
</tr>
<tr>
<td>UPDATE movie SET year=year+25
WHERE mid in (SELECT mid FROM (SELECT mid, avg(stars) as average FROM rating GROUP BY mid) WHERE average&gt;=4)</td>
<td>1.00</td>
<td> <br><font style="color:green; font-weight:bold;">Correct</font><br><br>To check your data modification statement, we ran the following query after your modification: <i>select * from Movie</i><br><br>Your Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>101</td>
<td>Gone with the Wind</td>
<td>1939</td>
<td>Victor Fleming</td>
</tr>
<tr>
<td>102</td>
<td>Star Wars</td>
<td>1977</td>
<td>George Lucas</td>
</tr>
<tr>
<td>103</td>
<td>The Sound of Music</td>
<td>1965</td>
<td>Robert Wise</td>
</tr>
<tr>
<td>104</td>
<td>E.T.</td>
<td>1982</td>
<td>Steven Spielberg</td>
</tr>
<tr>
<td>105</td>
<td>Titanic</td>
<td>1997</td>
<td>James Cameron</td>
</tr>
<tr>
<td>106</td>
<td>Snow White</td>
<td>1962</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>107</td>
<td>Avatar</td>
<td>2034</td>
<td>James Cameron</td>
</tr>
<tr>
<td>108</td>
<td>Raiders of the Lost Ark</td>
<td>1981</td>
<td>Steven Spielberg</td>
</tr>
</tbody></table>
<br>Expected Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>101</td>
<td>Gone with the Wind</td>
<td>1939</td>
<td>Victor Fleming</td>
</tr>
<tr>
<td>102</td>
<td>Star Wars</td>
<td>1977</td>
<td>George Lucas</td>
</tr>
<tr>
<td>103</td>
<td>The Sound of Music</td>
<td>1965</td>
<td>Robert Wise</td>
</tr>
<tr>
<td>104</td>
<td>E.T.</td>
<td>1982</td>
<td>Steven Spielberg</td>
</tr>
<tr>
<td>105</td>
<td>Titanic</td>
<td>1997</td>
<td>James Cameron</td>
</tr>
<tr>
<td>106</td>
<td>Snow White</td>
<td>1962</td>
<td>&lt;NULL&gt;</td>
</tr>
<tr>
<td>107</td>
<td>Avatar</td>
<td>2034</td>
<td>James Cameron</td>
</tr>
<tr>
<td>108</td>
<td>Raiders of the Lost Ark</td>
<td>1981</td>
<td>Steven Spielberg</td>
</tr>
</tbody></table>
</td>
</tr>
<tr>
<th>Total</th>
<td colspan="2">1.00 / 1.00</td>
</tr>
</tbody></table></div>
<div class="quiz_explanation">
<b>Note</b><br>
Even if your solution is marked as correct, it is possible that your data modification command does not correctly reflect the problem at hand. All we check is that the verification query gets the right answer on the small sample database. Circumventing the system will get you a high score on the exercises, but it won't help you learn SQL.
On the other hand, an incorrect attempt at a general solution is unlikely to produce the right answer, so you shouldn't be led astray by our checking system.
                </div>
</div>
</div>
</div></span>
				</div> <!-- content -->

            </div> <!-- content-body -->

		</div> <!-- container -->

		<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4245877-5']);
  _gaq.push(['_trackPageview']);

  (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

	




</body></html>