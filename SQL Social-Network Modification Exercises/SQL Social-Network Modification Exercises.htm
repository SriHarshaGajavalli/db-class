<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0065)http://www.db-class.org/course/quiz/feedback?submission_id=196965 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Introduction to Databases</title>

<link rel="stylesheet" href="http://www.db-class.org/course/assets/berry/css/main.css">
<link rel="stylesheet" href="http://www.db-class.org/course/assets/berry/css/course-cs145.css">
<script type="text/javascript" async="" src="./SQL Social-Network Modification Exercises_files/ga.js"></script><script type="text/javascript" src="./SQL Social-Network Modification Exercises_files/jquery.js"></script>
<script type="text/javascript" src="./SQL Social-Network Modification Exercises_files/MathJax.js"></script>

<link rel="stylesheet" href="http://www.db-class.org/course/assets/berry/css/quiz.css">


<style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-family: serif; font-size: 85%; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -1px -1px 1px -1px; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
</style><style type="text/css">#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><script id="__isTpiViewExists"></script></head>

    <body><div id="MathJax_Message" style="display: none; "></div>

		<div id="container">

			<div id="header" onclick="window.location=&#39;http://www.db-class.org/course/class/index&#39;">
				<div id="header_links">
                	<a href="http://www.db-class.org/course/auth/reportbug?info=87a04f2acdd9081846b28e6d93ebf6e9594726c0%7CnY7EE55AOgjVckmefPRleTah53aCMIoX1sdsWeTRfXB6810RFbD77SrD4NJKIvKTHI%2FBRu7hH0Xk9z5kQvQAjOmOmZnl8%2BrrbFXYi0XCbzvoQhd8WobHvkaGNQo9iHs3JHryR9VLblW7U6B29dWOJ3q1aulWRNPy8XE3tThEJ2HHM2eZtm9RBpREoGb8LNgxj3IGcqvItAVY4pnJ6spH3kUN8asruhgPdSodK5BaGp0rf3cYhGya5B%2FHy3kn1UJEo%2B2wjptUrxqhQL2YwECT2Xq3tkJPdedZgBwa3E%2FGICqKBQDWLz1uoZUzUwhFwjw5fM8YAafLCICtwsNHvPrWXWvAO0uwvMP68ZwTCUr9eKnbpQe4RvA2Q9Fnrbfdd19%2F2y96mDOrKX3tZyaRJX%2BxeLBb%2BCc2dfUrOdzduWtynWVxUlrqpIj2WqF5dx6oE%2Bs1">Feedback</a>&nbsp;&nbsp;&nbsp;					<a href="http://www.db-class.org/course/class/preferences">Preferences</a>		            &nbsp;&nbsp;&nbsp;
		            <a href="http://www.db-class.org/course/auth/logout">Logout</a>				</div>
			</div>

			<div id="content_body">

				<div id="navbar">
					<p class="navbar_item navbar_person">Azamat Galimzhanov</p>
                    <p class="navbar_item navbar_home"><a href="http://www.db-class.org/course/class/index">Home</a></p>
                    <p class="navbar_item navbar_progress"><a href="http://www.db-class.org/course/class/progress">Course Progress</a></p>					<p class="navbar_item navbar_video"><a href="http://www.db-class.org/course/video/list">Video Lectures</a></p>
                    <p class="navbar_item navbar_quizzes"><a href="http://www.db-class.org/course/quiz/list?type=quiz">Assignments</a></p><p class="navbar_item navbar_midterms"><a href="http://www.db-class.org/course/quiz/list?type=midterm">Exams</a></p>
					<p class="navbar_item navbar_qna" style="padding-bottom:20px"><a href="http://www.db-class.org/course/qna/index">Q&amp;A Forum</a></p>
                    <p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index">Course Materials</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=schedule">Course Schedule</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=sample">Software Quick Guides</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=weeklyvids">Weekly Videos</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=faq">FAQ</a></p><p class="navbar_item navbar_resources"><a href="http://www.db-class.org/course/resources/index?page=optional-exercises">Optional Exercises</a></p>					<p class="navbar_item navbar_aboutus"><a href="http://www.db-class.org/course/aboutus/index">About Us</a></p>
				</div>

				<div id="content">

                    
<h1>SQL Social-Network Modification Exercises - Feedback</h1><p>You achieved a score of <b>2.00</b> out of <b>2.00</b>.<br> Your answers, as well as our explanations, are shown below.</p><hr><span><div class="quiz_preamble">
                  
Students at your hometown high school have decided to organize their social network using databases. So far, they have collected information about sixteen students in four grades, 9-12. Here's the schema:

<br><br> 
Highschooler ( ID, name, grade )<br>
English: There is a high school student with unique <span style="font-style: italic;">ID</span> and a given <span style="font-style: italic;">first name</span> in a certain <span style="font-style: italic;">grade</span>.<br><br>
Friend ( ID1, ID2 )<br>
English: The student with <span style="font-style: italic;">ID1</span>
is friends with the student with <span style="font-style: italic;">ID2</span>.
Friendship is mutual, so if (123, 456) is in the Friend table, so is
(456, 123). <br><br>
Likes ( ID1, ID2 )<br>
English: The student with <span style="font-style: italic;">ID1</span>
likes the student with <span style="font-style: italic;">ID2</span>.
Liking someone is not necessarily mutual, so if (123, 456) is in the
Likes table, there is no guarantee that (456, 123) is also present.

<br><br>
Your modifications will run over a small data set conforming to the schema.
<a href="http://www.db-class.org/course/resources/index?page=socialdata" target="_blank">View the database</a>.
(You can also <a href="http://s3.amazonaws.com/dbclass-resources/docs/social.sql">download the schema and data</a>.)

<br><br>
For your convenience, here is a graph showing the various
connections
between the people in our database. 9th graders are blue, 10th
graders
are green, 11th graders are yellow, and 12th graders are purple.
Undirected black edges indicate friendships, and directed red edges
indicate that one person
likes another person.<br><br><div style="text-align: center;">
<img style="width: 494px; height:
    352px;" alt="Social graph" title="Social graph" src="./SQL Social-Network Modification Exercises_files/social.png"><br>
</div>

<br><br><b>Instructions:</b> 
You are to write each of the following data modification commands using SQL. Each question contains a link to a Command Workbench. The workbench will help you develop and debug your SQL modification commands. The workbench runs each modification using SQLite on the original state of the sample database. It then performs a query over the modified database to check whether your command made the correct modification, and restores the database to its original state. Once you're satisfied with your solution, click the "Keep This Solution" button in the Command Workbench -- your command will be copied automatically to the box on this page for final submission.

<br><br>
You may perform these exercises as many times as you like, so we strongly encourage you to keep working with them until you complete the exercises with full credit. The exercises may continue to be worked after the deadline, but we will not use your scores.

<br><br><b>NOTE: REMEMBER TO CLICK "Save and Submit" WHEN YOU ARE DONE!</b>
<br>
Please be patient as it does take time to check all of the exercises.
<br><br>
</div>
<div class="quiz_question_group">
<div class="quiz_question_group_preamble">
            </div>
<div class="quiz_question_group_questions">
<div class="quiz_question">
<div class="quiz_question_number">Question 1</div>
<div class="quiz_question_message"></div>
<div class="quiz_question_text">
                  
It's time for the seniors to graduate. Remove all 12th graders from Highschooler.<br><a class="immediate_feedback_engine_link" href="http://www.db-class.org/course/quiz/immediate_feedback_engine?quiz_id=61&question_id=1">Command Workbench</a>
</div>
<div class="quiz_options"><div class="quiz_option"><textarea class="quiz_option_selector" name="answer[1]" id="answer[1]" rows="1" disabled="">DELETE FROM highschooler
WHERE id in (SELECT id FROM highschooler WHERE grade=12)</textarea></div></div>
<div class="quiz_question_immediate_feedback_engine"></div>
<div class="quiz_feedback"><table class="quiz_feedback_table">
<tbody><tr>
<th width="45%">Your answer</th>
<th width="10%">Score</th>
<th width="45%">Choice explanation</th>
</tr>
<tr>
<td>DELETE FROM highschooler
WHERE id in (SELECT id FROM highschooler WHERE grade=12)</td>
<td>1.00</td>
<td> <br><font style="color:green; font-weight:bold;">Correct</font><br><br>To check your data modification statement, we ran the following query after your modification: <i>select * from Highschooler</i><br><br>Your Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>1101</td>
<td>Haley</td>
<td>10</td>
</tr>
<tr>
<td>1247</td>
<td>Alexis</td>
<td>11</td>
</tr>
<tr>
<td>1316</td>
<td>Austin</td>
<td>11</td>
</tr>
<tr>
<td>1381</td>
<td>Tiffany</td>
<td>9</td>
</tr>
<tr>
<td>1468</td>
<td>Kris</td>
<td>10</td>
</tr>
<tr>
<td>1501</td>
<td>Jessica</td>
<td>11</td>
</tr>
<tr>
<td>1510</td>
<td>Jordan</td>
<td>9</td>
</tr>
<tr>
<td>1641</td>
<td>Brittany</td>
<td>10</td>
</tr>
<tr>
<td>1689</td>
<td>Gabriel</td>
<td>9</td>
</tr>
<tr>
<td>1709</td>
<td>Cassandra</td>
<td>9</td>
</tr>
<tr>
<td>1782</td>
<td>Andrew</td>
<td>10</td>
</tr>
<tr>
<td>1911</td>
<td>Gabriel</td>
<td>11</td>
</tr>
</tbody></table>
<br>Expected Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>1101</td>
<td>Haley</td>
<td>10</td>
</tr>
<tr>
<td>1247</td>
<td>Alexis</td>
<td>11</td>
</tr>
<tr>
<td>1316</td>
<td>Austin</td>
<td>11</td>
</tr>
<tr>
<td>1381</td>
<td>Tiffany</td>
<td>9</td>
</tr>
<tr>
<td>1468</td>
<td>Kris</td>
<td>10</td>
</tr>
<tr>
<td>1501</td>
<td>Jessica</td>
<td>11</td>
</tr>
<tr>
<td>1510</td>
<td>Jordan</td>
<td>9</td>
</tr>
<tr>
<td>1641</td>
<td>Brittany</td>
<td>10</td>
</tr>
<tr>
<td>1689</td>
<td>Gabriel</td>
<td>9</td>
</tr>
<tr>
<td>1709</td>
<td>Cassandra</td>
<td>9</td>
</tr>
<tr>
<td>1782</td>
<td>Andrew</td>
<td>10</td>
</tr>
<tr>
<td>1911</td>
<td>Gabriel</td>
<td>11</td>
</tr>
</tbody></table>
</td>
</tr>
<tr>
<th>Total</th>
<td colspan="2">1.00 / 1.00</td>
</tr>
</tbody></table></div>
<div class="quiz_explanation">
<b>Note</b><br>
Even if your solution is marked as correct, it is possible that your data modification command does not correctly reflect the problem at hand. All we check is that the verification query gets the right answer on the small sample database. Circumventing the system will get you a high score on the exercises, but it won't help you learn SQL.
On the other hand, an incorrect attempt at a general solution is unlikely to produce the right answer, so you shouldn't be led astray by our checking system.
                </div>
</div>
<div class="quiz_question">
<div class="quiz_question_number">Question 2</div>
<div class="quiz_question_message"></div>
<div class="quiz_question_text">
                  
                    If two students A and B are friends, and A likes B but not vice-versa, remove the Likes tuple.<br><a class="immediate_feedback_engine_link" href="http://www.db-class.org/course/quiz/immediate_feedback_engine?quiz_id=61&question_id=2">Command Workbench</a>
</div>
<div class="quiz_options"><div class="quiz_option"><textarea class="quiz_option_selector" name="answer[2]" id="answer[2]" rows="1" disabled="">DELETE FROM likes
WHERE id1||'-'||id2 in (SELECT a.id||'-'||b.id FROM highschooler a, highschooler b, likes l, friend f 

WHERE l.id1=a.id AND l.id2=b.id AND b.id NOT IN (SELECT id1 FROM likes WHERE id2=a.id) AND 

f.id1=a.id AND f.id2=b.id)</textarea></div></div>
<div class="quiz_question_immediate_feedback_engine"></div>
<div class="quiz_feedback"><table class="quiz_feedback_table">
<tbody><tr>
<th width="45%">Your answer</th>
<th width="10%">Score</th>
<th width="45%">Choice explanation</th>
</tr>
<tr>
<td>DELETE FROM likes
WHERE id1||'-'||id2 in (SELECT a.id||'-'||b.id FROM highschooler a, highschooler b, likes l, friend f 

WHERE l.id1=a.id AND l.id2=b.id AND b.id NOT IN (SELECT id1 FROM likes WHERE id2=a.id) AND 

f.id1=a.id AND f.id2=b.id)</td>
<td>1.00</td>
<td> <br><font style="color:green; font-weight:bold;">Correct</font><br><br>To check your data modification statement, we ran the following query after your modification: <i>select * from Likes order by ID1, ID2</i><br><br>Your Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>1025</td>
<td>1101</td>
</tr>
<tr>
<td>1247</td>
<td>1468</td>
</tr>
<tr>
<td>1316</td>
<td>1304</td>
</tr>
<tr>
<td>1501</td>
<td>1934</td>
</tr>
<tr>
<td>1689</td>
<td>1709</td>
</tr>
<tr>
<td>1709</td>
<td>1689</td>
</tr>
<tr>
<td>1782</td>
<td>1709</td>
</tr>
<tr>
<td>1934</td>
<td>1501</td>
</tr>
</tbody></table>
<br>Expected Query Result: <table border="1" style="font-size:90%; padding: 1px;border-spacing: 0px; border-collapse: separate">
<tbody><tr>
<td>1025</td>
<td>1101</td>
</tr>
<tr>
<td>1247</td>
<td>1468</td>
</tr>
<tr>
<td>1316</td>
<td>1304</td>
</tr>
<tr>
<td>1501</td>
<td>1934</td>
</tr>
<tr>
<td>1689</td>
<td>1709</td>
</tr>
<tr>
<td>1709</td>
<td>1689</td>
</tr>
<tr>
<td>1782</td>
<td>1709</td>
</tr>
<tr>
<td>1934</td>
<td>1501</td>
</tr>
</tbody></table>
</td>
</tr>
<tr>
<th>Total</th>
<td colspan="2">1.00 / 1.00</td>
</tr>
</tbody></table></div>
<div class="quiz_explanation">
<b>Note</b><br>
Even if your solution is marked as correct, it is possible that your data modification command does not correctly reflect the problem at hand. All we check is that the verification query gets the right answer on the small sample database. Circumventing the system will get you a high score on the exercises, but it won't help you learn SQL.
On the other hand, an incorrect attempt at a general solution is unlikely to produce the right answer, so you shouldn't be led astray by our checking system.
                </div>
</div>
</div>
</div></span>
				</div> <!-- content -->

            </div> <!-- content-body -->

		</div> <!-- container -->

		<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4245877-5']);
  _gaq.push(['_trackPageview']);

  (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

	




</body></html>